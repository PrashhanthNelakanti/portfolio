"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/posts";
exports.ids = ["pages/api/posts"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connectToDatabase\": () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nconst MONGODB_DB = process.env.DB_NAME;\n// check the MongoDB URI\nif (!MONGODB_URI) {\n    throw new Error('Define the MONGODB_URI environmental variable');\n}\n// check the MongoDB DB\nif (!MONGODB_DB) {\n    throw new Error('Define the MONGODB_DB environmental variable');\n}\nlet cachedClient = null;\nlet cachedDb = null;\nasync function connectToDatabase() {\n    // check the cached.\n    if (cachedClient && cachedDb) {\n        // load from cache\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    // set the connection options\n    const opts = {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n    };\n    // Connect to cluster\n    let client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(MONGODB_URI, opts);\n    await client.connect();\n    let db = client.db(MONGODB_DB);\n    // set cache\n    cachedClient = client;\n    cachedDb = db;\n    return {\n        client: cachedClient,\n        db: cachedDb\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFFckMsS0FBSyxDQUFDQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixXQUFXO0FBQzNDLEtBQUssQ0FBQ0csVUFBVSxHQUFHRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsT0FBTztBQUV0QyxFQUF3QjtBQUN4QixFQUFFLEdBQUdKLFdBQVcsRUFBRSxDQUFDO0lBQ2YsS0FBSyxDQUFDLEdBQUcsQ0FBQ0ssS0FBSyxDQUFDLENBQStDO0FBQ25FLENBQUM7QUFFRCxFQUF1QjtBQUN2QixFQUFFLEdBQUdGLFVBQVUsRUFBRSxDQUFDO0lBQ2QsS0FBSyxDQUFDLEdBQUcsQ0FBQ0UsS0FBSyxDQUFDLENBQThDO0FBQ2xFLENBQUM7QUFFRCxHQUFHLENBQUNDLFlBQVksR0FBRyxJQUFJO0FBQ3ZCLEdBQUcsQ0FBQ0MsUUFBUSxHQUFHLElBQUk7QUFFWixlQUFlQyxpQkFBaUIsR0FBRyxDQUFDO0lBQ3ZDLEVBQW9CO0lBQ3BCLEVBQUUsRUFBRUYsWUFBWSxJQUFJQyxRQUFRLEVBQUUsQ0FBQztRQUMzQixFQUFrQjtRQUNsQixNQUFNLENBQUMsQ0FBQztZQUNKRSxNQUFNLEVBQUVILFlBQVk7WUFDcEJJLEVBQUUsRUFBRUgsUUFBUTtRQUNoQixDQUFDO0lBQ0wsQ0FBQztJQUVELEVBQTZCO0lBQzdCLEtBQUssQ0FBQ0ksSUFBSSxHQUFHLENBQUM7UUFDVkMsZUFBZSxFQUFFLElBQUk7UUFDckJDLGtCQUFrQixFQUFFLElBQUk7SUFDNUIsQ0FBQztJQUVELEVBQXFCO0lBQ3JCLEdBQUcsQ0FBQ0osTUFBTSxHQUFHLEdBQUcsQ0FBQ1YsZ0RBQVcsQ0FBQ0MsV0FBVyxFQUFFVyxJQUFJO0lBQzlDLEtBQUssQ0FBQ0YsTUFBTSxDQUFDSyxPQUFPO0lBQ3BCLEdBQUcsQ0FBQ0osRUFBRSxHQUFHRCxNQUFNLENBQUNDLEVBQUUsQ0FBQ1AsVUFBVTtJQUU3QixFQUFZO0lBQ1pHLFlBQVksR0FBR0csTUFBTTtJQUNyQkYsUUFBUSxHQUFHRyxFQUFFO0lBRWIsTUFBTSxDQUFDLENBQUM7UUFDSkQsTUFBTSxFQUFFSCxZQUFZO1FBQ3BCSSxFQUFFLEVBQUVILFFBQVE7SUFDaEIsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9maWxlLy4vbGliL21vbmdvZGIuanM/ZDkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xuXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuY29uc3QgTU9OR09EQl9EQiA9IHByb2Nlc3MuZW52LkRCX05BTUU7XG5cbi8vIGNoZWNrIHRoZSBNb25nb0RCIFVSSVxuaWYgKCFNT05HT0RCX1VSSSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudGFsIHZhcmlhYmxlJyk7XG59XG5cbi8vIGNoZWNrIHRoZSBNb25nb0RCIERCXG5pZiAoIU1PTkdPREJfREIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmluZSB0aGUgTU9OR09EQl9EQiBlbnZpcm9ubWVudGFsIHZhcmlhYmxlJyk7XG59XG5cbmxldCBjYWNoZWRDbGllbnQgPSBudWxsO1xubGV0IGNhY2hlZERiID0gbnVsbDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xuICAgIC8vIGNoZWNrIHRoZSBjYWNoZWQuXG4gICAgaWYgKGNhY2hlZENsaWVudCAmJiBjYWNoZWREYikge1xuICAgICAgICAvLyBsb2FkIGZyb20gY2FjaGVcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsaWVudDogY2FjaGVkQ2xpZW50LFxuICAgICAgICAgICAgZGI6IGNhY2hlZERiLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIHNldCB0aGUgY29ubmVjdGlvbiBvcHRpb25zXG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgfTtcblxuICAgIC8vIENvbm5lY3QgdG8gY2x1c3RlclxuICAgIGxldCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoTU9OR09EQl9VUkksIG9wdHMpO1xuICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7XG4gICAgbGV0IGRiID0gY2xpZW50LmRiKE1PTkdPREJfREIpO1xuXG4gICAgLy8gc2V0IGNhY2hlXG4gICAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xuICAgIGNhY2hlZERiID0gZGI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjbGllbnQ6IGNhY2hlZENsaWVudCxcbiAgICAgICAgZGI6IGNhY2hlZERiLFxuICAgIH07XG59Il0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9EQiIsIkRCX05BTUUiLCJFcnJvciIsImNhY2hlZENsaWVudCIsImNhY2hlZERiIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJkYiIsIm9wdHMiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./pages/api/posts.js":
/*!****************************!*\
  !*** ./pages/api/posts.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nconst { connectToDatabase  } = __webpack_require__(/*! ../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\nconst ObjectId = (__webpack_require__(/*! mongodb */ \"mongodb\").ObjectId);\nasync function handler(req, res) {\n    // switch the methods\n    switch(req.method){\n        case 'GET':\n            {\n                return getPosts(req, res);\n            }\n        case 'POST':\n            {\n                return addPost(req, res);\n            }\n        case 'PUT':\n            {\n                return updatePost(req, res);\n            }\n        case 'DELETE':\n            {\n                return deletePost(req, res);\n            }\n    }\n};\n// Getting all posts.\nasync function getPosts(req, res) {\n    try {\n        let { db  } = await connectToDatabase();\n        let posts = await db.collection('posts').find({}).sort({\n            published: -1\n        }).toArray();\n        return res.json({\n            message: JSON.parse(JSON.stringify(posts)),\n            success: true\n        });\n    } catch (error) {\n        return res.json({\n            message: new Error(error).message,\n            success: false\n        });\n    }\n}\n// Adding a new post\nasync function addPost(req, res) {\n    try {\n        let { db  } = await connectToDatabase();\n        await db.collection('posts').insertOne(JSON.parse(req.body));\n        return res.json({\n            message: 'Post added successfully',\n            success: true\n        });\n    } catch (error) {\n        return res.json({\n            message: new Error(error).message,\n            success: false\n        });\n    }\n}\n// Updating a post\nasync function updatePost(req, res) {\n    try {\n        let { db  } = await connectToDatabase();\n        await db.collection('posts').updateOne({\n            _id: new ObjectId(req.body)\n        }, {\n            $set: {\n                published: true\n            }\n        });\n        return res.json({\n            message: 'Post updated successfully',\n            success: true\n        });\n    } catch (error) {\n        return res.json({\n            message: new Error(error).message,\n            success: false\n        });\n    }\n}\n// deleting a post\nasync function deletePost(req, res) {\n    try {\n        let { db  } = await connectToDatabase();\n        await db.collection('posts').deleteOne({\n            _id: new ObjectId(req.body)\n        });\n        return res.json({\n            message: 'Post deleted successfully',\n            success: true\n        });\n    } catch (error) {\n        return res.json({\n            message: new Error(error).message,\n            success: false\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RCLEdBQUcsQ0FBQ2EsSUFBSSxDQUFDLENBQUM7WUFDYkMsT0FBTyxFQUFFLENBQTJCO1lBQ3BDSSxPQUFPLEVBQUUsSUFBSTtRQUNqQixDQUFDO0lBQ0wsQ0FBQyxDQUFDLEtBQUssRUFBRUMsS0FBSyxFQUFFLENBQUM7UUFDYixNQUFNLENBQUNuQixHQUFHLENBQUNhLElBQUksQ0FBQyxDQUFDO1lBQ2JDLE9BQU8sRUFBRSxHQUFHLENBQUNNLEtBQUssQ0FBQ0QsS0FBSyxFQUFFTCxPQUFPO1lBQ2pDSSxPQUFPLEVBQUUsS0FBSztRQUNsQixDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9maWxlLy4vcGFnZXMvYXBpL3Bvc3RzLmpzPzY5ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTmV4dC5qcyBBUEkgcm91dGUgc3VwcG9ydDogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBpLXJvdXRlcy9pbnRyb2R1Y3Rpb25cbmNvbnN0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSA9IHJlcXVpcmUoJy4uLy4uL2xpYi9tb25nb2RiJyk7XG5jb25zdCBPYmplY3RJZCA9IHJlcXVpcmUoJ21vbmdvZGInKS5PYmplY3RJZDtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAgIC8vIHN3aXRjaCB0aGUgbWV0aG9kc1xuICAgIHN3aXRjaCAocmVxLm1ldGhvZCkge1xuICAgICAgICBjYXNlICdHRVQnOiB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UG9zdHMocmVxLCByZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnUE9TVCc6IHtcbiAgICAgICAgICAgIHJldHVybiBhZGRQb3N0KHJlcSwgcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ1BVVCc6IHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVQb3N0KHJlcSwgcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ0RFTEVURSc6IHtcbiAgICAgICAgICAgIHJldHVybiBkZWxldGVQb3N0KHJlcSwgcmVzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gR2V0dGluZyBhbGwgcG9zdHMuXG5hc3luYyBmdW5jdGlvbiBnZXRQb3N0cyhyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCB7IGRiIH0gPSBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuICAgICAgICBsZXQgcG9zdHMgPSBhd2FpdCBkYlxuICAgICAgICAgICAgLmNvbGxlY3Rpb24oJ3Bvc3RzJylcbiAgICAgICAgICAgIC5maW5kKHt9KVxuICAgICAgICAgICAgLnNvcnQoeyBwdWJsaXNoZWQ6IC0xIH0pXG4gICAgICAgICAgICAudG9BcnJheSgpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwb3N0cykpLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG5ldyBFcnJvcihlcnJvcikubWVzc2FnZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIEFkZGluZyBhIG5ldyBwb3N0XG5hc3luYyBmdW5jdGlvbiBhZGRQb3N0KHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3Bvc3RzJykuaW5zZXJ0T25lKEpTT04ucGFyc2UocmVxLmJvZHkpKTtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdQb3N0IGFkZGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogbmV3IEVycm9yKGVycm9yKS5tZXNzYWdlLFxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gVXBkYXRpbmcgYSBwb3N0XG5hc3luYyBmdW5jdGlvbiB1cGRhdGVQb3N0KHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG5cbiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigncG9zdHMnKS51cGRhdGVPbmUoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX2lkOiBuZXcgT2JqZWN0SWQocmVxLmJvZHkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgJHNldDogeyBwdWJsaXNoZWQ6IHRydWUgfSB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdQb3N0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBuZXcgRXJyb3IoZXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vLyBkZWxldGluZyBhIHBvc3RcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVBvc3QocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgICBsZXQgeyBkYiB9ID0gYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcblxuICAgICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdwb3N0cycpLmRlbGV0ZU9uZSh7XG4gICAgICAgICAgICBfaWQ6IG5ldyBPYmplY3RJZChyZXEuYm9keSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnUG9zdCBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogbmV3IEVycm9yKGVycm9yKS5tZXNzYWdlLFxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn0iXSwibmFtZXMiOlsiY29ubmVjdFRvRGF0YWJhc2UiLCJyZXF1aXJlIiwiT2JqZWN0SWQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiZ2V0UG9zdHMiLCJhZGRQb3N0IiwidXBkYXRlUG9zdCIsImRlbGV0ZVBvc3QiLCJkYiIsInBvc3RzIiwiY29sbGVjdGlvbiIsImZpbmQiLCJzb3J0IiwicHVibGlzaGVkIiwidG9BcnJheSIsImpzb24iLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5Iiwic3VjY2VzcyIsImVycm9yIiwiRXJyb3IiLCJpbnNlcnRPbmUiLCJib2R5IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsImRlbGV0ZU9uZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/posts.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/posts.js"));
module.exports = __webpack_exports__;

})();