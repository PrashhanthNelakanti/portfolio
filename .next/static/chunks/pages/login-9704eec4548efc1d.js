(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7156:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(4984)}])},4984:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var r=t(4051),s=t.n(r),a=t(5893),o=t(3153),i=t(7294),l=t(1163);function c(e,n,t,r,s,a,o){try{var i=e[a](o),l=i.value}catch(c){return void t(c)}i.done?n(l):Promise.resolve(l).then(r,s)}function u(){var e=(0,l.useRouter)(),n=(0,i.useState)(""),t=n[0],r=n[1],u=(0,i.useState)(""),d=u[0],m=u[1],p=(0,i.useState)(""),f=p[0],x=p[1],g=(0,i.useState)(""),h=g[0],b=g[1],v=function(){var n,a=(n=s().mark((function n(a){var o,i,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),x(""),b(""),t&&d){n.next=5;break}return n.abrupt("return",x("All fields are required"));case 5:return o={email:t,password:d,purpose:"login"},console.log(o),n.next=9,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)});case 9:return i=n.sent,n.next=12,i.json();case 12:if(l=n.sent,console.log("mmm",l),!l.success){n.next=21;break}return m(""),r(""),e.push("/userPage"),n.abrupt("return",b(l.message));case 21:return console.log(h),n.abrupt("return",x(l.message));case 23:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function o(e){c(a,r,s,o,i,"next",e)}function i(e){c(a,r,s,o,i,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,a.jsx)("a",{href:"/validateOtp",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Login in with OTP"})]}),(0,a.jsx)("h3",{className:"block uppercase tracking-wide text-lg font-bold mb-2 text-green-500",children:h}),(0,a.jsx)("h3",{className:"block uppercase tracking-wide text-lg font-bold mb-2 text-red-500",children:f})]}),(0,a.jsxs)("form",{onSubmit:v,className:"mt-8 space-y-6",action:"#",method:"POST",children:[(0,a.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,a.jsx)("input",{name:"email",onChange:function(e){return r(e.target.value)},value:t,autoComplete:"given-name",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"OTP"}),(0,a.jsx)("input",{name:"password",type:"password",onChange:function(e){return m(e.target.value)},value:d,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,a.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,a.jsx)(o.khe,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign in"]})})]})]})})})}}},function(e){e.O(0,[153,774,888,179],(function(){return n=7156,e(e.s=n);var n}));var n=e.O();_N_E=n}]);